<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LogCabin: LogCabin::RPC::Address Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LogCabin
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceLogCabin.html">LogCabin</a>      </li>
      <li class="navelem"><a class="el" href="namespaceLogCabin_1_1RPC.html">RPC</a>      </li>
      <li class="navelem"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">LogCabin::RPC::Address Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="LogCabin::RPC::Address" -->
<p>This class resolves user-friendly addresses for services into socket-level addresses.  
 <a href="classLogCabin_1_1RPC_1_1Address.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Address_8h_source.html">Address.h</a>&gt;</code></p>

<p><a href="classLogCabin_1_1RPC_1_1Address-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespaceLogCabin_1_1Core_1_1Time.html#a4798c7e2244561626e4ce819710e7e56">Core::Time::SteadyClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#aa69c2ab7510d510c776d3a76b008dc7b">Clock</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Clock used for timeouts.  <a href="#aa69c2ab7510d510c776d3a76b008dc7b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="structLogCabin_1_1Core_1_1Time_1_1MockableClock.html#a25005848397dad2ae0d03826a755d7c8">Clock::time_point</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a131ccf5dd045d375978a1adb7d27ed0c">TimePoint</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Type for absolute time values used for timeouts.  <a href="#a131ccf5dd045d375978a1adb7d27ed0c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a6fca7808cfdd71a8a7c7166e2381bc9b">Address</a> (const std::string &amp;str, uint16_t defaultPort)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a6fca7808cfdd71a8a7c7166e2381bc9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a1a41b490a3d6dec175879f28b992a0e3">Address</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a1a41b490a3d6dec175879f28b992a0e3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a9656e1338de102adb64f6af40f1db0b5">Address</a> (const <a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp;other)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor.  <a href="#a9656e1338de102adb64f6af40f1db0b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#abdf9f39f5666fef7ada616cad0672494">operator=</a> (const <a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp;other)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assignment.  <a href="#abdf9f39f5666fef7ada616cad0672494"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a23cefe87e6b3185263fca1efb12332fb">isValid</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the sockaddr returned by <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae" title="Return a sockaddr that may be used to connect a socket to this Address.">getSockAddr()</a> is valid.  <a href="#a23cefe87e6b3185263fca1efb12332fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const sockaddr *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae">getSockAddr</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a sockaddr that may be used to connect a socket to this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>.  <a href="#ae1a2ab0e38b309a67bfacfe3169cbcae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">socklen_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a35a95901abc5d978aa2a71b6a613c027">getSockAddrLen</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the length in bytes of the sockaddr in <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae" title="Return a sockaddr that may be used to connect a socket to this Address.">getSockAddr()</a>.  <a href="#a35a95901abc5d978aa2a71b6a613c027"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a1da8f1d9e5d82eb253be520f1be3316d">getResolvedString</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing the sockaddr within this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>.  <a href="#a1da8f1d9e5d82eb253be520f1be3316d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ab6a0a36311326ceb780aa3a9bad3ac83">toString</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a string describing this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>.  <a href="#ab6a0a36311326ceb780aa3a9bad3ac83"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76">refresh</a> (<a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a131ccf5dd045d375978a1adb7d27ed0c">TimePoint</a> timeout)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert (a random one of) the host(s) and port(s) to a sockaddr.  <a href="#a862df7c77ff8748a64dfde7696df9b76"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a9d4c6a25321b1f85e208faed794154be">originalString</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The host name(s) or numeric address(es) as passed into the constructor.  <a href="#a9d4c6a25321b1f85e208faed794154be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair<br class="typebreak"/>
&lt; std::string, std::string &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a576cf6fc7e92694e2854ddd5e716fda9">hosts</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of (host, port) pairs as parsed from originalString.  <a href="#a576cf6fc7e92694e2854ddd5e716fda9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">sockaddr_storage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a7a2b3ccec4525ac7d85762ec0e72b67a">storage</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceLogCabin_1_1Storage.html">Storage</a> for the sockaddr returned by getSockAddr.  <a href="#a7a2b3ccec4525ac7d85762ec0e72b67a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">socklen_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a61ebbe3a4d064dbaf31b5184df5e3cf8">len</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The length in bytes of storage that are in use.  <a href="#a61ebbe3a4d064dbaf31b5184df5e3cf8"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>This class resolves user-friendly addresses for services into socket-level addresses. </p>
<p>It supports DNS lookups for addressing hosts by name, and it supports multiple (alternative) addresses. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00034">34</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="aa69c2ab7510d510c776d3a76b008dc7b"></a><!-- doxytag: member="LogCabin::RPC::Address::Clock" ref="aa69c2ab7510d510c776d3a76b008dc7b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespaceLogCabin_1_1Core_1_1Time.html#a4798c7e2244561626e4ce819710e7e56">Core::Time::SteadyClock</a> <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#aa69c2ab7510d510c776d3a76b008dc7b">LogCabin::RPC::Address::Clock</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clock used for timeouts. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00037">37</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<a class="anchor" id="a131ccf5dd045d375978a1adb7d27ed0c"></a><!-- doxytag: member="LogCabin::RPC::Address::TimePoint" ref="a131ccf5dd045d375978a1adb7d27ed0c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="structLogCabin_1_1Core_1_1Time_1_1MockableClock.html#a25005848397dad2ae0d03826a755d7c8">Clock::time_point</a> <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a131ccf5dd045d375978a1adb7d27ed0c">LogCabin::RPC::Address::TimePoint</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Type for absolute time values used for timeouts. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00039">39</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6fca7808cfdd71a8a7c7166e2381bc9b"></a><!-- doxytag: member="LogCabin::RPC::Address::Address" ref="a6fca7808cfdd71a8a7c7166e2381bc9b" args="(const std::string &amp;str, uint16_t defaultPort)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a6fca7808cfdd71a8a7c7166e2381bc9b">LogCabin::RPC::Address::Address</a> </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>defaultPort</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>You will usually need to call <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76" title="Convert (a random one of) the host(s) and port(s) to a sockaddr.">refresh()</a> before using this class. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>A string representation of the host and, optionally, a port number.<ul>
<li>hostname:port</li>
<li>hostname</li>
<li>IPv4Address:port</li>
<li>IPv4Address</li>
<li>[IPv6Address]:port</li>
<li>[IPv6Address] Or a comma-delimited list of these to represent multiple hosts. </li>
</ul>
</td></tr>
    <tr><td class="paramname">defaultPort</td><td>The port number to use if none is specified in str. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00035">35</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1a41b490a3d6dec175879f28b992a0e3"></a><!-- doxytag: member="LogCabin::RPC::Address::Address" ref="a1a41b490a3d6dec175879f28b992a0e3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a6fca7808cfdd71a8a7c7166e2381bc9b">LogCabin::RPC::Address::Address</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00071">71</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a9656e1338de102adb64f6af40f1db0b5"></a><!-- doxytag: member="LogCabin::RPC::Address::Address" ref="a9656e1338de102adb64f6af40f1db0b5" args="(const Address &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a6fca7808cfdd71a8a7c7166e2381bc9b">LogCabin::RPC::Address::Address</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy constructor. </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00079">79</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abdf9f39f5666fef7ada616cad0672494"></a><!-- doxytag: member="LogCabin::RPC::Address::operator=" ref="abdf9f39f5666fef7ada616cad0672494" args="(const Address &amp;other)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp; LogCabin::RPC::Address::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLogCabin_1_1RPC_1_1Address.html">Address</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assignment. </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00089">89</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a23cefe87e6b3185263fca1efb12332fb"></a><!-- doxytag: member="LogCabin::RPC::Address::isValid" ref="a23cefe87e6b3185263fca1efb12332fb" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a23cefe87e6b3185263fca1efb12332fb">LogCabin::RPC::Address::isValid</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return true if the sockaddr returned by <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae" title="Return a sockaddr that may be used to connect a socket to this Address.">getSockAddr()</a> is valid. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76" title="Convert (a random one of) the host(s) and port(s) to a sockaddr.">refresh()</a> has ever succeeded for this host and port. False otherwise. </dd></dl>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00099">99</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ae1a2ab0e38b309a67bfacfe3169cbcae"></a><!-- doxytag: member="LogCabin::RPC::Address::getSockAddr" ref="ae1a2ab0e38b309a67bfacfe3169cbcae" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const sockaddr * <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae">LogCabin::RPC::Address::getSockAddr</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a sockaddr that may be used to connect a socket to this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The returned value will never be NULL and it is always safe to read the protocol field from it, even if <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a35a95901abc5d978aa2a71b6a613c027" title="Return the length in bytes of the sockaddr in getSockAddr().">getSockAddrLen()</a> returns 0. </dd></dl>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00105">105</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a35a95901abc5d978aa2a71b6a613c027"></a><!-- doxytag: member="LogCabin::RPC::Address::getSockAddrLen" ref="a35a95901abc5d978aa2a71b6a613c027" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">socklen_t <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a35a95901abc5d978aa2a71b6a613c027">LogCabin::RPC::Address::getSockAddrLen</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the length in bytes of the sockaddr in <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ae1a2ab0e38b309a67bfacfe3169cbcae" title="Return a sockaddr that may be used to connect a socket to this Address.">getSockAddr()</a>. </p>
<p>This is the value you'll want to pass in to connect() or bind(). </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00111">111</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a1da8f1d9e5d82eb253be520f1be3316d"></a><!-- doxytag: member="LogCabin::RPC::Address::getResolvedString" ref="a1da8f1d9e5d82eb253be520f1be3316d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a1da8f1d9e5d82eb253be520f1be3316d">LogCabin::RPC::Address::getResolvedString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a string describing the sockaddr within this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>. </p>
<p>This string will reflect the numeric address produced by the latest successful call to <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76" title="Convert (a random one of) the host(s) and port(s) to a sockaddr.">refresh()</a>, or "Unspecified". </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00117">117</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="ab6a0a36311326ceb780aa3a9bad3ac83"></a><!-- doxytag: member="LogCabin::RPC::Address::toString" ref="ab6a0a36311326ceb780aa3a9bad3ac83" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#ab6a0a36311326ceb780aa3a9bad3ac83">LogCabin::RPC::Address::toString</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return a string describing this <a class="el" href="classLogCabin_1_1RPC_1_1Address.html" title="This class resolves user-friendly addresses for services into socket-level addresses.">Address</a>. </p>
<p>This will contain both the user-provided string passed into the constructor and the numeric address produced by the latest successful call to <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76" title="Convert (a random one of) the host(s) and port(s) to a sockaddr.">refresh()</a>. It's the best representation to use in error messages for the user. </p>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00151">151</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a862df7c77ff8748a64dfde7696df9b76"></a><!-- doxytag: member="LogCabin::RPC::Address::refresh" ref="a862df7c77ff8748a64dfde7696df9b76" args="(TimePoint timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76">LogCabin::RPC::Address::refresh</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a131ccf5dd045d375978a1adb7d27ed0c">TimePoint</a>&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convert (a random one of) the host(s) and port(s) to a sockaddr. </p>
<p>If the host is a name instead of numeric, this will run a DNS query and select a random result. If this query fails, any previous sockaddr will be left intact. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Not yet implemented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>Timeouts have not been implemented. See <a href="https://github.com/logcabin/logcabin/issues/75">https://github.com/logcabin/logcabin/issues/75</a> </dd></dl>

<p>Definition at line <a class="el" href="Address_8cc_source.html#l00164">164</a> of file <a class="el" href="Address_8cc_source.html">Address.cc</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9d4c6a25321b1f85e208faed794154be"></a><!-- doxytag: member="LogCabin::RPC::Address::originalString" ref="a9d4c6a25321b1f85e208faed794154be" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a9d4c6a25321b1f85e208faed794154be">LogCabin::RPC::Address::originalString</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The host name(s) or numeric address(es) as passed into the constructor. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00123">123</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<a class="anchor" id="a576cf6fc7e92694e2854ddd5e716fda9"></a><!-- doxytag: member="LogCabin::RPC::Address::hosts" ref="a576cf6fc7e92694e2854ddd5e716fda9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;std::string, std::string&gt; &gt; <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a576cf6fc7e92694e2854ddd5e716fda9">LogCabin::RPC::Address::hosts</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A list of (host, port) pairs as parsed from originalString. </p>
<ul>
<li>First component: the host name or numeric address as parsed from the string passed into the constructor. This has brackets stripped out of IPv6 addresses and is in the form needed by getaddrinfo().</li>
<li>Second component: an ASCII representation of the port number to use. It is stored in string form because that's sometimes how it comes into the constructor and always what <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a862df7c77ff8748a64dfde7696df9b76" title="Convert (a random one of) the host(s) and port(s) to a sockaddr.">refresh()</a> needs to call getaddrinfo(). </li>
</ul>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00134">134</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7a2b3ccec4525ac7d85762ec0e72b67a"></a><!-- doxytag: member="LogCabin::RPC::Address::storage" ref="a7a2b3ccec4525ac7d85762ec0e72b67a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sockaddr_storage <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a7a2b3ccec4525ac7d85762ec0e72b67a">LogCabin::RPC::Address::storage</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="namespaceLogCabin_1_1Storage.html">Storage</a> for the sockaddr returned by getSockAddr. </p>
<p>This is always zeroed out from len to the end. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00140">140</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<a class="anchor" id="a61ebbe3a4d064dbaf31b5184df5e3cf8"></a><!-- doxytag: member="LogCabin::RPC::Address::len" ref="a61ebbe3a4d064dbaf31b5184df5e3cf8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">socklen_t <a class="el" href="classLogCabin_1_1RPC_1_1Address.html#a61ebbe3a4d064dbaf31b5184df5e3cf8">LogCabin::RPC::Address::len</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The length in bytes of storage that are in use. </p>
<p>The remaining bytes of storage are always zeroed out. </p>

<p>Definition at line <a class="el" href="Address_8h_source.html#l00146">146</a> of file <a class="el" href="Address_8h_source.html">Address.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>RPC/<a class="el" href="Address_8h_source.html">Address.h</a></li>
<li>RPC/<a class="el" href="Address_8cc_source.html">Address.cc</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
