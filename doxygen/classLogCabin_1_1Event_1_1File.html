<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LogCabin: LogCabin::Event::File Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">LogCabin
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceLogCabin.html">LogCabin</a>      </li>
      <li class="navelem"><a class="el" href="namespaceLogCabin_1_1Event.html">Event</a>      </li>
      <li class="navelem"><a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">LogCabin::Event::File Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="LogCabin::Event::File" -->
<p>A <a class="el" href="classLogCabin_1_1Event_1_1File.html" title="A File is called by the Event::Loop when a file becomes readable or writable.">File</a> is called by the <a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a> when a file becomes readable or writable.  
 <a href="classLogCabin_1_1Event_1_1File.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="File_8h_source.html">File.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for LogCabin::Event::File:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classLogCabin_1_1Event_1_1File.png" usemap="#LogCabin::Event::File_map" alt=""/>
  <map id="LogCabin::Event::File_map" name="LogCabin::Event::File_map">
<area href="classLogCabin_1_1Event_1_1Signal.html" title="A Signal is called by the Event::Loop when a Unix signal is received." alt="LogCabin::Event::Signal" shape="rect" coords="214,56,632,80"/>
<area href="classLogCabin_1_1Event_1_1Timer.html" title="A Timer is called by the Event::Loop when time has elapsed." alt="LogCabin::Event::Timer" shape="rect" coords="1498,56,1916,80"/>
<area href="structLogCabin_1_1RPC_1_1anonymous__namespace_02ClientSession_8cc_03_1_1FileNotifier.html" title="Exits an event loop when a file event occurs." alt="LogCabin::RPC::anonymous_namespace{ClientSession.cc}::FileNotifier" shape="rect" coords="1926,56,2344,80"/>
<area href="structLogCabin_1_1RPC_1_1MessageSocket_1_1ReceiveSocket.html" title="This class is an Event::File monitor that calls readable() when the socket can be read from without b..." alt="LogCabin::RPC::MessageSocket::ReceiveSocket" shape="rect" coords="2354,56,2772,80"/>
<area href="structLogCabin_1_1RPC_1_1MessageSocket_1_1SendSocket.html" title="This class is an Event::File monitor that calls writable() when the socket can be written to without ..." alt="LogCabin::RPC::MessageSocket::SendSocket" shape="rect" coords="2782,56,3200,80"/>
<area href="classLogCabin_1_1RPC_1_1TCPListener_1_1BoundListener.html" title="A socket that listens on a particular address." alt="LogCabin::RPC::TCPListener::BoundListener" shape="rect" coords="3210,56,3628,80"/>
<area href="classLogCabin_1_1Server_1_1Globals_1_1ExitHandler.html" title="Exits from the event loop upon receiving a UNIX signal." alt="LogCabin::Server::Globals::ExitHandler" shape="rect" coords="0,112,418,136"/>
<area href="classLogCabin_1_1Server_1_1ServerStats_1_1SignalHandler.html" title="Dumps stats to the debug log (NOTICE level) on SIGUSR1 signal." alt="LogCabin::Server::ServerStats::SignalHandler" shape="rect" coords="428,112,846,136"/>
<area href="classLogCabin_1_1Event_1_1anonymous__namespace_02Loop_8cc_03_1_1NullTimer.html" alt="LogCabin::Event::anonymous_namespace{Loop.cc}::NullTimer" shape="rect" coords="856,112,1274,136"/>
<area href="structLogCabin_1_1RPC_1_1anonymous__namespace_02ClientSession_8cc_03_1_1TimerNotifier.html" title="Exits an event loop when a timer event occurs." alt="LogCabin::RPC::anonymous_namespace{ClientSession.cc}::TimerNotifier" shape="rect" coords="1284,112,1702,136"/>
<area href="classLogCabin_1_1RPC_1_1ClientSession_1_1Timer.html" title="This is used to time out RPCs and sessions when the server is no longer responding." alt="LogCabin::RPC::ClientSession::Timer" shape="rect" coords="1712,112,2130,136"/>
<area href="classLogCabin_1_1Server_1_1ServerStats_1_1TimerHandler.html" title="Dumps stats to the debug log (NOTICE level) periodically." alt="LogCabin::Server::ServerStats::TimerHandler" shape="rect" coords="2140,112,2558,136"/>
</map>
 </div></div>

<p><a href="classLogCabin_1_1Event_1_1File-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a7563195f04344ae8684f44b029daeffa">File</a> (<a class="el" href="classLogCabin_1_1Event_1_1Loop.html">Event::Loop</a> &amp;<a class="el" href="classLogCabin_1_1Event_1_1File.html#a9d89637a9a28298bcdd3aff6b03a5b42">eventLoop</a>, int <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54">fd</a>, int events)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct and enable monitoring a file descriptor.  <a href="#a7563195f04344ae8684f44b029daeffa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a0e19f03631cf782015d39bbb98ec8365">~File</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a0e19f03631cf782015d39bbb98ec8365"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a65772259f49bd8f7b757d8d12cb5921f">handleFileEvent</a> (int events)=0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is overridden by a subclass and invoked when a file event occurs.  <a href="#a65772259f49bd8f7b757d8d12cb5921f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#aab3c1cafdf43034823597e537fdefa1b">release</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove the file descriptor from being monitored by this object.  <a href="#aab3c1cafdf43034823597e537fdefa1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54">setEvents</a> (int events)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Specify the events of interest for this file handler.  <a href="#a54c241c86227cec338469e1c4f3caf54"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLogCabin_1_1Event_1_1Loop.html">Event::Loop</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a9d89637a9a28298bcdd3aff6b03a5b42">eventLoop</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a> that will manage this file.  <a href="#a9d89637a9a28298bcdd3aff6b03a5b42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#aca3f3f6ddbfc265e822f35456809ef78">fdMutex</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Protects <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54" title="The file descriptor to monitor.">fd</a> from concurrent access between <a class="el" href="classLogCabin_1_1Event_1_1File.html#aab3c1cafdf43034823597e537fdefa1b" title="Remove the file descriptor from being monitored by this object.">release()</a>, which modifies <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54" title="The file descriptor to monitor.">fd</a>, and <a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54" title="Specify the events of interest for this file handler.">setEvents()</a>, which uses it.  <a href="#aca3f3f6ddbfc265e822f35456809ef78"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54">fd</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The file descriptor to monitor.  <a href="#a016006e21779261323216cbe5fd11f54"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#abcad7a8697dbe64730c1925f665488dd">File</a> (const <a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLogCabin_1_1Event_1_1File.html#af3e355d84b3a1e4191aeb1c15b7781d6">operator=</a> (const <a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a> &amp;)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>A <a class="el" href="classLogCabin_1_1Event_1_1File.html" title="A File is called by the Event::Loop when a file becomes readable or writable.">File</a> is called by the <a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a> when a file becomes readable or writable. </p>
<p>The client should inherit from this and implement the <a class="el" href="classLogCabin_1_1Event_1_1File.html#a65772259f49bd8f7b757d8d12cb5921f" title="This method is overridden by a subclass and invoked when a file event occurs.">handleFileEvent()</a> method for when the file becomes readable or writable.</p>
<p><a class="el" href="classLogCabin_1_1Event_1_1File.html" title="A File is called by the Event::Loop when a file becomes readable or writable.">File</a> objects can be created from any thread, but they will always fire on the thread running the <a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a>. </p>

<p>Definition at line <a class="el" href="File_8h_source.html#l00036">36</a> of file <a class="el" href="File_8h_source.html">File.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7563195f04344ae8684f44b029daeffa"></a><!-- doxytag: member="LogCabin::Event::File::File" ref="a7563195f04344ae8684f44b029daeffa" args="(Event::Loop &amp;eventLoop, int fd, int events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a7563195f04344ae8684f44b029daeffa">LogCabin::Event::File::File</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLogCabin_1_1Event_1_1Loop.html">Event::Loop</a> &amp;&#160;</td>
          <td class="paramname"><em>eventLoop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [explicit]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct and enable monitoring a file descriptor. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">eventLoop</td><td><a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a> that will manage this <a class="el" href="classLogCabin_1_1Event_1_1File.html" title="A File is called by the Event::Loop when a file becomes readable or writable.">File</a> object. </td></tr>
    <tr><td class="paramname">fd</td><td>A file descriptor of a valid open file to monitor. Unless <a class="el" href="classLogCabin_1_1Event_1_1File.html#aab3c1cafdf43034823597e537fdefa1b" title="Remove the file descriptor from being monitored by this object.">release()</a> is called first, this <a class="el" href="classLogCabin_1_1Event_1_1File.html" title="A File is called by the Event::Loop when a file becomes readable or writable.">File</a> object will close the file descriptor when it is destroyed. </td></tr>
    <tr><td class="paramname">events</td><td>Invoke the handler when any of the events specified by this parameter occur (OR-ed combination of EPOLL_EVENTS values). If this is 0 then the file handler starts off inactive; it will not trigger until <a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54" title="Specify the events of interest for this file handler.">setEvents()</a> has been called (except possibly for errors such as EPOLLHUP; these events are always active). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="File_8cc_source.html#l00028">28</a> of file <a class="el" href="File_8cc_source.html">File.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a0e19f03631cf782015d39bbb98ec8365"></a><!-- doxytag: member="LogCabin::Event::File::~File" ref="a0e19f03631cf782015d39bbb98ec8365" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a0e19f03631cf782015d39bbb98ec8365">LogCabin::Event::File::~File</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="File_8cc_source.html#l00044">44</a> of file <a class="el" href="File_8cc_source.html">File.cc</a>.</p>

</div>
</div>
<a class="anchor" id="abcad7a8697dbe64730c1925f665488dd"></a><!-- doxytag: member="LogCabin::Event::File::File" ref="abcad7a8697dbe64730c1925f665488dd" args="(const File &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Event_1_1File.html#a7563195f04344ae8684f44b029daeffa">LogCabin::Event::File::File</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a65772259f49bd8f7b757d8d12cb5921f"></a><!-- doxytag: member="LogCabin::Event::File::handleFileEvent" ref="a65772259f49bd8f7b757d8d12cb5921f" args="(int events)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classLogCabin_1_1Event_1_1File.html#a65772259f49bd8f7b757d8d12cb5921f">LogCabin::Event::File::handleFileEvent</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This method is overridden by a subclass and invoked when a file event occurs. </p>
<p>This method will be invoked by the main event loop on whatever thread is running the <a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a>.</p>
<p>If the event still exists when this method returns (e.g., the file is readable but the method did not read the data), then the method will be invoked again (unless flags such as EPOLLONESHOT or EPOLLET are used).</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>Indicates whether the file is readable or writable or both (OR'ed combination of EPOLL_EVENTS values). </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="structLogCabin_1_1RPC_1_1MessageSocket_1_1ReceiveSocket.html#ad45fb20e5b8c08412f472ffd96a094cb">LogCabin::RPC::MessageSocket::ReceiveSocket</a>, <a class="el" href="structLogCabin_1_1RPC_1_1MessageSocket_1_1SendSocket.html#a3f245586d9172aa94630b7c57b3e5b97">LogCabin::RPC::MessageSocket::SendSocket</a>, <a class="el" href="classLogCabin_1_1RPC_1_1TCPListener_1_1BoundListener.html#afb9bd65a31ad341b30dcad6265b1e322">LogCabin::RPC::TCPListener::BoundListener</a>, <a class="el" href="structLogCabin_1_1RPC_1_1anonymous__namespace_02ClientSession_8cc_03_1_1FileNotifier.html#aaada4c386b6fffae8a10c2f55785c133">LogCabin::RPC::anonymous_namespace{ClientSession.cc}::FileNotifier</a>, <a class="el" href="classLogCabin_1_1Event_1_1Signal.html#a100f317ed4da04b6c4278bd98b4fd236">LogCabin::Event::Signal</a>, and <a class="el" href="classLogCabin_1_1Event_1_1Timer.html#a2081aa52c39a3b225bede3550f270382">LogCabin::Event::Timer</a>.</p>

</div>
</div>
<a class="anchor" id="aab3c1cafdf43034823597e537fdefa1b"></a><!-- doxytag: member="LogCabin::Event::File::release" ref="aab3c1cafdf43034823597e537fdefa1b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classLogCabin_1_1Event_1_1File.html#aab3c1cafdf43034823597e537fdefa1b">LogCabin::Event::File::release</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove the file descriptor from being monitored by this object. </p>
<p>Unless running in the event loop thread, a caller must typically take an <a class="el" href="classLogCabin_1_1Event_1_1Loop_1_1Lock.html" title="Lock objects are used to synchronize between the Event::Loop thread and other threads.">Event::Loop::Lock</a> before closing the file descriptor, to ensure that a concurrent handler call does not access the closed file. This may only be called once. </p>

<p>Definition at line <a class="el" href="File_8cc_source.html#l00073">73</a> of file <a class="el" href="File_8cc_source.html">File.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a54c241c86227cec338469e1c4f3caf54"></a><!-- doxytag: member="LogCabin::Event::File::setEvents" ref="a54c241c86227cec338469e1c4f3caf54" args="(int events)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54">LogCabin::Event::File::setEvents</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>events</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Specify the events of interest for this file handler. </p>
<p>This method is safe to call concurrently with file events triggering. If called outside an event handler and no <a class="el" href="classLogCabin_1_1Event_1_1Loop_1_1Lock.html" title="Lock objects are used to synchronize between the Event::Loop thread and other threads.">Event::Loop::Lock</a> is taken, this may have a short delay while active handlers continue to be called.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">events</td><td>Indicates the conditions under which this object should be invoked (OR-ed combination of EPOLL_EVENTS values). If this is 0 then the file handler is set to inactive; it will not trigger until <a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54" title="Specify the events of interest for this file handler.">setEvents()</a> has been called (except possibly for errors such as EPOLLHUP; these events are always active). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="File_8cc_source.html#l00056">56</a> of file <a class="el" href="File_8cc_source.html">File.cc</a>.</p>

</div>
</div>
<a class="anchor" id="af3e355d84b3a1e4191aeb1c15b7781d6"></a><!-- doxytag: member="LogCabin::Event::File::operator=" ref="af3e355d84b3a1e4191aeb1c15b7781d6" args="(const File &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a>&amp; LogCabin::Event::File::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLogCabin_1_1Event_1_1File.html">File</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9d89637a9a28298bcdd3aff6b03a5b42"></a><!-- doxytag: member="LogCabin::Event::File::eventLoop" ref="a9d89637a9a28298bcdd3aff6b03a5b42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLogCabin_1_1Event_1_1Loop.html">Event::Loop</a>&amp; <a class="el" href="classLogCabin_1_1Event_1_1File.html#a9d89637a9a28298bcdd3aff6b03a5b42">LogCabin::Event::File::eventLoop</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><a class="el" href="classLogCabin_1_1Event_1_1Loop.html" title="This class contains an event loop based on Linux&#39;s epoll interface.">Event::Loop</a> that will manage this file. </p>

<p>Definition at line <a class="el" href="File_8h_source.html#l00103">103</a> of file <a class="el" href="File_8h_source.html">File.h</a>.</p>

</div>
</div>
<a class="anchor" id="aca3f3f6ddbfc265e822f35456809ef78"></a><!-- doxytag: member="LogCabin::Event::File::fdMutex" ref="aca3f3f6ddbfc265e822f35456809ef78" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex <a class="el" href="classLogCabin_1_1Event_1_1File.html#aca3f3f6ddbfc265e822f35456809ef78">LogCabin::Event::File::fdMutex</a><code> [mutable]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Protects <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54" title="The file descriptor to monitor.">fd</a> from concurrent access between <a class="el" href="classLogCabin_1_1Event_1_1File.html#aab3c1cafdf43034823597e537fdefa1b" title="Remove the file descriptor from being monitored by this object.">release()</a>, which modifies <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54" title="The file descriptor to monitor.">fd</a>, and <a class="el" href="classLogCabin_1_1Event_1_1File.html#a54c241c86227cec338469e1c4f3caf54" title="Specify the events of interest for this file handler.">setEvents()</a>, which uses it. </p>

<p>Definition at line <a class="el" href="File_8h_source.html#l00109">109</a> of file <a class="el" href="File_8h_source.html">File.h</a>.</p>

</div>
</div>
<a class="anchor" id="a016006e21779261323216cbe5fd11f54"></a><!-- doxytag: member="LogCabin::Event::File::fd" ref="a016006e21779261323216cbe5fd11f54" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classLogCabin_1_1Event_1_1File.html#a016006e21779261323216cbe5fd11f54">LogCabin::Event::File::fd</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The file descriptor to monitor. </p>

<p>Definition at line <a class="el" href="File_8h_source.html#l00114">114</a> of file <a class="el" href="File_8h_source.html">File.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Event/<a class="el" href="File_8h_source.html">File.h</a></li>
<li>Event/<a class="el" href="File_8cc_source.html">File.cc</a></li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
